## DB 백업은 온/오프라인으로 선택하여 진행할 수 있다.

_온라인 백업은 핫 백업이라고도 한다. 서버 돌아가면 뜨거우니까.._

**아카이브 로그 모드가 켜져 있을 때만 가능**

## DB의 논리적 구조, 물리적 구조란?

1. DB의 논리적 구조
    일상 생활에 보는 SCHEMA,TABLE,INDEX 등 DB를 구성하는 것들이 모여서 DB의 논리적 구조를 이룬다.

2. DB의 물리적 구조
    DB에 저장될 때 컴퓨터의 저장 매체에 파일로 저장됨. 이렇게 물리적으로 저장되면서 물리적 구조를 이룸.

## MariaDB 백업 및 복구

**mysqldump** :

- 논리적 백업
- DB 전체 구조를 SQL문으로 바꾸어 백업하는 방법
- DB 버전 문제에 영향을 받지 않는 장점
- innoDB에서 지원하는 백업 방법만 사용할 수 있음, MyISAM에서 사용하는 백업 기능은 사용할 수 없다.

**XtraBackup** :

- InnoDB의 충돌 복구 기능을 기반으로 함.
- InnoDB 데이터 파일을 복사하므로 내부적으로 일관성 없는 데이터가 생성. 그런 다음에 파일에 대해 응급 복구를 수행하여 일관되고 사용가능한 데이터베이스로 다시 만듬
- 파일 복사? => 물리적 백업
    

참조
- [블로그](https://gkqlgkql.tistory.com/53) 
- [MariaDB InnoDB 문제해결](https://mariadb.com/kb/en/innodb-troubleshooting/)


